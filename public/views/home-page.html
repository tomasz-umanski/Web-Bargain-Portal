<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" type="text/css" href="public/styles/style.css">
    <title>Home page</title>
</head>
<body>
    <div class="container"> 
        <nav id="navbar" class="navbar">
            <div class="navbar-container">
                <div class="navbar-section">
                    <a href="home-page" class="button" name="home">
                        <span class="navbar-icon"><i class="bi bi-house"></i></span>
                        <span class="navbar-label">Home</span>
                    </a>
                    <div class="dropdown">
                        <button class="navbar-button dropdown-button" name="categories" onclick="toggleDropdown('categories')">
                            <span class="navbar-icon"><i class="bi bi-columns-gap"></i></span>
                            <span class="navbar-label">Categories</span>
                        </button>
                        <div id="categories_dropdown" class="dropdown-content">
                            <a href="#" class="dropdown-link"> 
                                <span class="dropdown-icon"><i class="bi bi-laptop"></i></span>
                                <span>Technology</span>
                            </a>
                            <a href="#" class="dropdown-link"> 
                                <span class="dropdown-icon"><i class="bi bi-controller"></i></span>
                                <span>Gaming</span>
                            </a>
                        </div>
                    </div>
                    <a href="#" class="button" name="search">
                        <span class="navbar-icon"><i class="bi bi-search"></i></span>
                        <span class="navbar-label">Search</span>
                    </a>
                </div>
                <div class="navbar-section">
                    <a href="favourites" class="button" name="favourites">
                        <span class="navbar-icon"><i class="bi bi-star"></i></span>
                        <span class="navbar-label">Favourites</span>
                    </a>
                    <a href="new-post" class="button" name="new-post">
                        <span class="navbar-icon"><i class="bi bi-plus-circle"></i></span>
                        <span class="navbar-label">New post</span>
                    </a>

                    <div class="dropdown">
                        <button class="navbar-button dropdown-button" name="account" onclick="toggleDropdown('account')">
                            <span class="navbar-icon"><i class="bi bi-person"></i></span>
                            <span class="navbar-label">Account</span>
                        </button>
                        <div id="account_dropdown" class="dropdown-content account-dropdown">
                            <a href="#" class="dropdown-link"> 
                                <span class="dropdown-icon"><i class="bi bi-laptop"></i></span>
                                <span>Technology</span>
                            </a>
                            <a href="#" class="dropdown-link"> 
                                <span class="dropdown-icon"><i class="bi bi-controller"></i></span>
                                <span>Gaming</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <div class="subnav">
            <div class="subnav-container">
                <div class="dropdown">
                    <button class="dropdown-button" name="subnavDropdown" onclick="toggleDropdown('subnav')">
                        <span class="subnav-label">Hot</span>
                        <span><i class="bi bi-caret-down-fill"></i></span>
                    </button>
                    <div id="subnav_dropdown" class="dropdown-content">
                        <a href="#" class="dropdown-link"> 
                            <span>Technology</span>
                        </a>
                        <a href="#" class="dropdown-link"> 
                            <span>Gaming</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- <div class="content">
            <div class="content-item-card">
                <div class="content-image">
                    <img src="/public/assets/images/aparat-fujifilm-instax-mini-12-pastel-blue-niebieski.jpg" alt="item image"></img>
                </div>
                <div class="content-data">
                    <div class="content-user-data">
                        <span><i class="bi bi-person-circle"></i></span>
                        <p class="content-user-data-username">user_1</p>
                        <p class="content-spacer"> - </p>
                        <p class="content-user-data-upload-date">1d</p>
                    </div>
                    <div class="content-item-data">
                        <div class="content-item-title">
                            FUJIFILM Instax Mini 12
                        </div>
                        <div class="content-item-price">
                            <span class="content-current-price">200zł</span>
                            <span class="content-old-price">356zł</span>
                            <div class="content-item-delivery-price">
                                <span><i class="bi bi-truck"></i></span>
                            </div>
                        </div>
                        <div class="content-item-description">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum quibusdam rerum inventore porro quas, tenetur, nisi, nobis velit aliquam magnam earum fuga. Voluptatem pariatur dignissimos dolorem aspernatur illum molestias quibusdam!
                        </div>
                        <div class="content-item-actions">
                            <button class="content-button content-like">
                                <span><i class="bi bi-heart"></i></span>
                                <p>125</p>
                            </button>
                            <button class="content-button content-favourites">
                                <span><i class="bi bi-star"></i></span>
                            </button>
                            <button>
                                Catch the deal
                                <span><i class="bi bi-link"></i></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-item-card">
                <div class="content-image">
                    <img src="/public/assets/images/aparat-fujifilm-instax-mini-12-pastel-blue-niebieski.jpg" alt="item image"></img>
                </div>
                <div class="content-data">
                    <div class="content-user-data">
                        <span><i class="bi bi-person-circle"></i></span>
                        <p class="content-user-data-username">user_1</p>
                        <p class="content-spacer"> - </p>
                        <p class="content-user-data-upload-date">1d</p>
                    </div>
                    <div class="content-item-data">
                        <div class="content-item-title">
                            FUJIFILM Instax Mini 12
                        </div>
                        <div class="content-item-price">
                            <span class="content-current-price">200zł</span>
                            <span class="content-old-price">356zł</span>
                            <div class="content-item-delivery-price">
                                <span><i class="bi bi-truck"></i></span>
                            </div>
                        </div>
                        <div class="content-item-description">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum quibusdam rerum inventore porro quas, tenetur, nisi, nobis velit aliquam magnam earum fuga. Voluptatem pariatur dignissimos dolorem aspernatur illum molestias quibusdam!
                        </div>
                        <div class="content-item-actions">
                            <button class="content-button content-like">
                                <span><i class="bi bi-heart"></i></span>
                                <p>125</p>
                            </button>
                            <button class="content-button content-favourites">
                                <span><i class="bi bi-star"></i></span>
                            </button>
                            <button>
                                Catch the deal
                                <span><i class="bi bi-link"></i></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-item-card">
                <div class="content-image">
                    <img src="/public/assets/images/aparat-fujifilm-instax-mini-12-pastel-blue-niebieski.jpg" alt="item image"></img>
                </div>
                <div class="content-data">
                    <div class="content-user-data">
                        <span><i class="bi bi-person-circle"></i></span>
                        <p class="content-user-data-username">user_1</p>
                        <p class="content-spacer"> - </p>
                        <p class="content-user-data-upload-date">1d</p>
                    </div>
                    <div class="content-item-data">
                        <div class="content-item-title">
                            FUJIFILM Instax Mini 12
                        </div>
                        <div class="content-item-price">
                            <span class="content-current-price">200zł</span>
                            <span class="content-old-price">356zł</span>
                            <div class="content-item-delivery-price">
                                <span><i class="bi bi-truck"></i></span>
                            </div>
                        </div>
                        <div class="content-item-description">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum quibusdam rerum inventore porro quas, tenetur, nisi, nobis velit aliquam magnam earum fuga. Voluptatem pariatur dignissimos dolorem aspernatur illum molestias quibusdam!
                        </div>
                        <div class="content-item-actions">
                            <button class="content-button content-like">
                                <span><i class="bi bi-heart"></i></span>
                                <p>125</p>
                            </button>
                            <button class="content-button content-favourites">
                                <span><i class="bi bi-star"></i></span>
                            </button>
                            <button>
                                Catch the deal
                                <span><i class="bi bi-link"></i></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
    </div>
    <script>
        const dropdownIds = ["categories", "account", "subnav"];
        const dropdowns = dropdownIds.reduce((acc, id) => {
            acc[id] = document.getElementById(`${id}_dropdown`);
            return acc;
        }, {});

        const navbar = document.getElementById("navbar");
        let prevScrollPos = window.pageYOffset;
        let ticking = false;

        function closeDropdowns() {
            Object.values(dropdowns).forEach(dropdown => {
                dropdown.classList.remove("dropdown-content-visible");
            });
        }

        function handleScroll() {
            const currentScrollPos = window.pageYOffset;
            closeDropdowns(dropdowns);
            let shouldToggle = currentScrollPos > 10
            let isScrollingUp = prevScrollPos > currentScrollPos 
            navbar.style.top = shouldToggle ? `${isScrollingUp ? "0" : "-7vh"}` : "0";
            navbar.style.boxShadow = shouldToggle ? `${isScrollingUp ? "rgba(77, 71, 195, 0.45) 0px 5px 30px 0px" : "none"}` : "rgba(77, 71, 195, 0.45) 0px 5px 30px 0px";
            prevScrollPos = currentScrollPos;
        }

        function toggleDropdown(name) {
            dropdowns[name].classList.toggle("dropdown-content-visible");
        }

        function handleClick(event) {
            const isClickInsideDropdown = event.target.closest('.dropdown');
            if (!isClickInsideDropdown) {
                closeDropdowns();
            }
        }

        window.addEventListener("scroll", handleScroll);
        document.body.addEventListener("click", handleClick);

    </script>
</body>
</html>